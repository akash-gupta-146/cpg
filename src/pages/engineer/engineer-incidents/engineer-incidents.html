<ion-header>
  <ion-navbar>
    <button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Incidents</ion-title>
  </ion-navbar>

  <ion-toolbar>
    <ion-segment [(ngModel)]="selectedSegment"  (ionChange)="onSegmentChange()">
      <ion-segment-button value="assigned">Assigned
      </ion-segment-button>
      <ion-segment-button value="scheduled">Scheduled
      </ion-segment-button>
      <ion-segment-button value="fixed">Fixed
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>


<ion-content padding>

  <ion-list>
    <ion-item *ngFor="let inc of incidents;let i=index" (click)='openEngineerIncidentPage(i)'>
      <ion-row>
        <ion-col><b style="font-size: small">{{inc.name}}</b>
        </ion-col>
      </ion-row>
      <ion-row >
        <ion-col col-6 no-margin>
          <b style="font-size: small">{{inc.category}}</b>
        </ion-col>
        <ion-col col-6>
            <ion-badge *ngIf="inc.incident.status==='Scheduled'">{{inc.incident.scheduledDate}}</ion-badge>
            <ion-badge *ngIf="inc.incident.status==='Engineer Assigned'">{{inc.incident.created}}</ion-badge>
            <ion-badge *ngIf="inc.incident.status==='Fixed'">{{inc.incident.fixed.date}}</ion-badge>
          </ion-col>
      </ion-row>
    </ion-item>
  </ion-list>

</ion-content>